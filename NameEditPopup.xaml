<?xml version="1.0" encoding="utf-8" ?>
<ct:Popup xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:ct="clr-namespace:CommunityToolkit.Maui.Views;assembly=CommunityToolkit.Maui"
             x:Class="Tichu_Counter.NameEditPopup"
             Color="Transparent"

             Opened="Popup_Opened"
             Closed="Popup_Closed"
                >
    <Border x:Name="BackGround" BackgroundColor="{AppThemeBinding Light='#f9f9f9', Dark='#191a1f'}" Stroke="{AppThemeBinding Light='#e5e5e5', Dark='#38464f'}" StrokeThickness="1">
        <Border.StrokeShape>
            <RoundRectangle CornerRadius="15" />
        </Border.StrokeShape>
        <VerticalStackLayout Spacing="15" Padding="20">
            <Frame x:Name="FrameA" CornerRadius="12" BackgroundColor="{AppThemeBinding Light='#f2f2f9', Dark='#36373c'}" BorderColor="{AppThemeBinding Light='#d6d6d6', Dark='#191a1f'}" HeightRequest="40">
                <Entry
                    x:Name="NameEntry"
            VerticalOptions="Center" 
            FontSize="16"
            TextChanged="NameEntry_TextChanged"
            HorizontalOptions="Center" MaxLength="20"  TextColor="{AppThemeBinding Light='#050505', Dark='#e5e5e5'}" WidthRequest="150"
                   />
            </Frame>
            <HorizontalStackLayout Spacing="15" HorizontalOptions="Center" HeightRequest="40">
                <AbsoluteLayout x:Name="CancelButtons">
                    <Button x:Name="Cancel_button" Text="Cancel" FontSize="15" CornerRadius="15" ZIndex="1" BindingContext="{x:Reference Cancel_behind}" AbsoluteLayout.LayoutBounds="0, 0, AutoSize, AutoSize"  Padding="12" Margin="0" Clicked="Cancel_button_Clicked" Pressed="Pressed"  Released="Released"  WidthRequest="85" HorizontalOptions="Center" FontAttributes="Bold" BorderWidth="2" BorderColor="{AppThemeBinding Light='#d6d6d6', Dark='#38464f'}"  TextColor="{AppThemeBinding Light='#050505', Dark='#e5e5e5'}"/>
                    <Button  x:Name="Cancel_behind" AbsoluteLayout.LayoutBounds="0, 10, AutoSize, AutoSize" ZIndex="0" HorizontalOptions="Center" WidthRequest="85" CornerRadius="15" BackgroundColor="{AppThemeBinding Light='#d6d6d6', Dark='#38464f'}"/>
                </AbsoluteLayout>
                <AbsoluteLayout x:Name="AcceptButtons">
                    <Button x:Name="Accept_button" Text="Apply" FontSize="15" CornerRadius="15" ZIndex="1" BindingContext="{x:Reference Accept_behind}" AbsoluteLayout.LayoutBounds="0, 0, AutoSize, AutoSize"  Padding="12" Margin="0" Clicked="Accept_button_Clicked" Pressed="Pressed" Released="Released"  WidthRequest="85" HorizontalOptions="Center" FontAttributes="Bold" BorderWidth="2" BorderColor="{AppThemeBinding Light='#d6d6d6', Dark='#38464f'}"  TextColor="{AppThemeBinding Light='#050505', Dark='#e5e5e5'}"/>
                    <Button  x:Name="Accept_behind" AbsoluteLayout.LayoutBounds="0, 10, AutoSize, AutoSize" ZIndex="0" HorizontalOptions="Center" WidthRequest="85" CornerRadius="15" BackgroundColor="{AppThemeBinding Light='#d6d6d6', Dark='#38464f'}"/>
                </AbsoluteLayout>
            </HorizontalStackLayout>
        </VerticalStackLayout>
    </Border>
</ct:Popup>